drop procedure TablesDrop;
drop procedure CipherCreation;
drop procedure ExpendituresCreation;
drop procedure YearCreation;
drop procedure GOZCreation;

create procedure TablesDrop as
begin
    drop table if exists cipher, expenditures, year, GOZ
end;
    create procedure CipherCreation as
    begin
        create table cipher
        (
            cipher_id   int primary key identity (1,1),
            name_cipher varchar(30)
        )
    end;

drop table if exists expenditures;
create table expenditures
(
    expenditures_id   int primary key identity (1,1),
    expenditures_name varchar(100)
);

drop table if exists year;
create table year
(
    year_id     int primary key identity (1,1),
    year_number int
);
drop table if exists GOZ;
create table GOZ
(
    goz_id          int primary key identity (1,1),
    cipher_id       int,
    year_id         int,
    expenditures_id int,
    goz_value       float
        foreign key (cipher_id) references cipher (cipher_id) on delete cascade,
        foreign key (expenditures_id) references expenditures (expenditures_id) on delete cascade,
        foreign key (year_id) references year (year_id) on delete cascade
);

insert into cipher (name_cipher)
values ('НИР "Профитроль"'),
       ('Улей-23');

insert into year (year_number)
values (2022),
       (2023),
       (2024);

insert into expenditures (expenditures_name)
values ('ОЗП'),
('ДПЗ'),
('СОЦ'),
('ОХР'),
('Cc'),
('Цена'),
('Труд'),
('Чел'),
('Амотризация основных средств общехозяйственного назначения'),
('Амортизация нематериальных активов'),
('Содержание и ремонт основных средств общехояйственного назначения'),
('Затраты на оплату труда аппарата управления'),
('Страховые взносы'),
('Командировочные затраты'),
('Содержание пожарной службы, охраны'),
('Испытания для определения качества материальных ресурсов собственного изготовления и приобретаемых'),
('Затраты на подготовку и переподготовку работников организации. Затраты по подбору и найму работников'),
('Изобретательство и рационализаторство'),
('Охрана труда'),
('Прочие затраты общехозяйственного назначения'),
('Амортизация программного обеспечения'),
('Аренда помещения и коммунальные услуги'),
('Аттестация рабочих мест'),
('Вода'),
('Добровольное страхование жизни и ДМС'),
('Доставка ТМЦ'),
('Инструменты хозяйственные'),
('Информационная безопасность'),
('Исследования'),
('Канцтовары'),
('Кофе, чай, сахар'),
('Лизинг оборудования'),
('Литература, подписка'),
('Лицензионные затраты'),
('Материалы'),
('Материальные затраты'),
('Мебель'),
('Мелкое компьютерное оборудование'),
('Натариальные, юридические, аудиторские услуги'),
('Неисключительное право на ПО'),
('Оплата питания сотрудников'),
('Оформление офиса'),
('Парковка'),
('Перевод документов для внутренних нужд'),
('Поверка специального оборудования'),
('Поддержка оборудования IBM'),
('Поддержка офиса'),
('Поддержка ПО'),
('Подрядные работы при создании ОС'),
('Почта и курьерские услуги '),
('Представительские расходы'),
('Прочие расходы'),
('Расходные материалы (картриджи, IT-материалы)'),
('Расходные материалы (хозяйственные)'),
('Расходные материалы НИОКР'),
('Рекламные расходы'),
('Сервисные сборы'),
('Сертификация'),
('Спец. Одежда'),
('Спорт'),
('Списание НИОКР'),
('Страхование от несчастных случаев (до 5 лет)'),
('Страхование ответственности / имущества'),
('Техника безопасности'),
('Транспортные расходы'),
('Уборка офиса'),
('Услуги связи');

insert into GOZ(cipher_id, year_id, expenditures_id, goz_value)
values (1,1,1,4613750.0),
(1,1,2,0.0),
(1,1,3,103719.57),
(1,1,4,2768250.0),
(1,1,5,11958958.32),
(1,1,6,11958958.32),
(1,1,7,23.0),
(1,1,8,5.0),
(1,1,9,397469.38),
(1,1,10,484.30),
(1,1,11,47205.90),
(1,1,12,1072297.56),
(1,1,13,44357.67),
(1,1,14,0.0),
(1,1,15,10426.13),
(1,1,16,0.0),
(1,1,17,0.0),
(1,1,18,0.0),
(1,1,19,0.0),
(1,1,20,1196009.6),
(1,1,21,0.0),
(1,1,22,444304.90),
(1,1,23,0.0),
(1,1,24,32848.18),
(1,1,25,155774.72),
(1,1,26,0.0),
(1,1,27,0.0),
(1,1,28,108914.44),
(1,1,29,0.0),
(1,1,30,39658.96),
(1,1,31,0.0),
(1,1,32,0.0),
(1,1,33,0.0),
(1,1,34,0.0),
(1,1,35,0.0),
(1,1,36,0.0),
(1,1,37,0.0),
(1,1,38,0.0),
(1,1,39,0.0),
(1,1,40,0.0),
(1,1,41,0.0),
(1,1,42,0.0),
(1,1,43,0.0),
(1,1,44,0.0),
(1,1,45,0.0),
(1,1,46,0.0),
(1,1,47,0.0),
(1,1,48,0.0),
(1,1,49,0.0),
(1,1,50,0.0),
(1,1,51,0.0),
(1,1,52,0.0),
(1,1,53,0.0),
(1,1,54,0.0),
(1,1,55,0.0),
(1,1,56,0.0),
(1,1,57,0.0),
(1,1,58,210561.85),
(1,1,59,0.0),
(1,1,60,0.0),
(1,1,61,0.0),
(1,1,62,0.0),
(1,1,63,0.0),
(1,1,64,0.0),
(1,1,65,0.0),
(1,1,66,0.0),
(1,1,67,203946.1),
(1,2,1,5757960.0),
(1,2,2,0.0),
(1,2,3,348565.88),
(1,2,4,3454776.0),
(1,2,5,14086845.72),
(1,2,6,17098884.41),
(1,2,7,25.0),
(1,2,8,5.0),
(1,2,9,496041.79),
(1,2,10,604.41),
(1,2,11,58912.96),
(1,2,12,1338227.35),
(1,2,13,55358.37),
(1,2,14,0.0),
(1,2,15,13011.82),
(1,2,16,0.0),
(1,2,17,0.0),
(1,2,18,0.0),
(1,2,19,0.0),
(1,2,20,1492619.30),
(1,2,21,0.0),
(1,2,22,554492.51),
(1,2,23,0.0),
(1,2,24,40994.53),
(1,2,25,194406.85),
(1,2,26,0.0),
(1,2,27,0.0),
(1,2,28,135925.22),
(1,2,29,0.0),
(1,2,30,49494.38),
(1,2,31,0.0),
(1,2,32,0.0),
(1,2,33,0.0),
(1,2,34,0.0),
(1,2,35,0.0),
(1,2,36,0.0),
(1,2,37,0.0),
(1,2,38,0.0),
(1,2,39,0.0),
(1,2,40,0.0),
(1,2,41,0.0),
(1,2,42,0.0),
(1,2,43,0.0),
(1,2,44,0.0),
(1,2,45,0.0),
(1,2,46,0.0),
(1,2,47,0.0),
(1,2,48,0.0),
(1,2,49,0.0),
(1,2,50,0.0),
(1,2,51,0.0),
(1,2,52,0.0),
(1,2,53,0.0),
(1,2,54,0.0),
(1,2,55,0.0),
(1,2,56,0.0),
(1,2,57,0.0),
(1,2,58,262781.19),
(1,2,59,0.0),
(1,2,60,0.0),
(1,2,61,0.0),
(1,2,62,0.0),
(1,2,63,0.0),
(1,2,64,0.0),
(1,2,65,0.0),
(1,2,66,0.0),
(1,2,67,254524.62),
(1,3,1,2584593.84),
(1,3,2,0.0),
(1,3,3,201598.32),
(1,3,4,1550756.30),
(1,3,5,11910713.20),
(1,3,6,14410392.46),
(1,3,7,10.0),
(1,3,8,5.0),
(1,3,9,222659.86),
(1,3,10,271.30),
(1,3,11,26444.45),
(1,3,12,600694.37),
(1,3,13,24848.89),
(1,3,14,0.0),
(1,3,15,5840.64),
(1,3,16,0.0),
(1,3,17,0.0),
(1,3,18,0.0),
(1,3,19,0.0),
(1,3,20,669996.79),
(1,3,21,0.0),
(1,3,22,248896.83),
(1,3,23,0.0),
(1,3,24,18401.34),
(1,3,25,87264.2),
(1,3,26,0.0),
(1,3,27,0.0),
(1,3,28,61013.19),
(1,3,29,0.0),
(1,3,30,22216.70),
(1,3,31,0.0),
(1,3,32,0.0),
(1,3,33,0.0),
(1,3,34,0.0),
(1,3,35,0.0),
(1,3,36,0.0),
(1,3,37,0.0),
(1,3,38,0.0),
(1,3,39,0.0),
(1,3,40,0.0),
(1,3,41,0.0),
(1,3,42,0.0),
(1,3,43,0.0),
(1,3,44,0.0),
(1,3,45,0.0),
(1,3,46,0.0),
(1,3,47,0.0),
(1,3,48,0.0),
(1,3,49,0.0),
(1,3,50,0.0),
(1,3,51,0.0),
(1,3,52,0.0),
(1,3,53,0.0),
(1,3,54,0.0),
(1,3,55,0.0),
(1,3,56,0.0),
(1,3,57,0.0),
(1,3,58,117955.43),
(1,3,59,0.0),
(1,3,60,0.0),
(1,3,61,0.0),
(1,3,62,0.0),
(1,3,63,0.0),
(1,3,64,0.0),
(1,3,65,0.0),
(1,3,66,0.0),
(1,3,67,114249.28),
(2,2,1,24344421.0),
(2,2,2,0.0),
(2,2,3,1063299.17),
(2,2,4,14606652.60),
(2,2,5,40014372.77),
(2,2,6,49940000.0),
(2,2,7,127.40),
(2,2,8,30.0),
(2,2,9,2097244.52),
(2,2,10,2555.41),
(2,2,11,249081.60),
(2,2,12,5657970.90),
(2,2,13,234052.94),
(2,2,14,0.0),
(2,2,15,55013.43),
(2,2,16,0.0),
(2,2,17,0.0),
(2,2,18,0.0),
(2,2,19,0.0),
(2,2,20,6310733.80),
(2,2,21,0.0),
(2,2,22,2344371.84),
(2,2,23,0.0),
(2,2,24,173323.19),
(2,2,25,821944.25),
(2,2,26,0.0),
(2,2,27,0.0),
(2,2,28,574686.33),
(2,2,29,0.0),
(2,2,30,209260.23),
(2,2,31,0.0),
(2,2,32,0.0),
(2,2,33,0.0),
(2,2,34,0.0),
(2,2,35,0.0),
(2,2,36,0.0),
(2,2,37,0.0),
(2,2,38,0.0),
(2,2,39,0.0),
(2,2,40,0.0),
(2,2,41,0.0),
(2,2,42,0.0),
(2,2,43,0.0),
(2,2,44,0.0),
(2,2,45,0.0),
(2,2,46,0.0),
(2,2,47,0.0),
(2,2,48,0.0),
(2,2,49,0.0),
(2,2,50,0.0),
(2,2,51,0.0),
(2,2,52,0.0),
(2,2,53,0.0),
(2,2,54,0.0),
(2,2,55,0.0),
(2,2,56,0.0),
(2,2,57,0.0),
(2,2,58,1111028.19),
(2,2,59,0.0),
(2,2,60,0.0),
(2,2,61,0.0),
(2,2,62,0.0),
(2,2,63,0.0),
(2,2,64,0.0),
(2,2,65,0.0),
(2,2,66,0.0),
(2,2,67,1076119.76);


select * from cipher;
select * from year;
select * from GOZ;

select name_cipher, year_number, expenditures_name, goz_value
from GOZ
inner join cipher c on GOZ.cipher_id = c.cipher_id
inner join year y on GOZ.year_id = y.year_id
inner join expenditures e on GOZ.expenditures_id = e.expenditures_id
order by 1, 2;